# Демонстрационный сервис с Kafka, PostgreSQL, кешем

---

## Обзор

Демонстрационный сервис с простейшим интерфейсом, отображающий данные о заказе.

Создание небольшого микросервиса на Go с использованием базы данных и очереди сообщений. Сервис будет получать данные заказов из очереди (Kafka), сохранять их в базу данных (PostgreSQL) и кэшировать в памяти для быстрого доступа.


## Инструкции по установке и запуску

Следуйте этим шагам, чтобы настроить и запустить проект локально.

### Клонирование репозитория

```bash
git clone git@github.com:zayneshzangar/level0.git
cd level0
```

### Установка зависимости

```bash
go mod tidy
```

### Запуск инструментов (Kafka, Postgresql) и cоздание Пользователя, Базы Данных

```bash
cd scripts
./script.sh
```

### Удаление Инструментов после завершение Приложение

```bash
cd scripts
./script.sh --delete
```

> ⚠️ **Примечание:** Если у вас есть нужные, но неиспользуемые Docker-тома (volumes), не используйте параметр `--delete` или закомментируйте строку с удалением `volume` в скрипте `delete-kafka.sh`. В этом случае вы можете удалить тома вручную.  
> Названия томов Kafka создаются автоматически (генерируются), поэтому их сложно удалить по имени вручную через скрипт.


### Добавление `Topic`

> ⚠️ Проверка запуска Kafka:
> После запуска кластера Kafka убедитесь, что все брокеры успешно запущены и один из них выбран в качестве контроллера (главного брокера).
> Откройте веб-интерфейс Kafka по адресу localhost:8090, перейдите на вкладку Dashboard → Brokers, и проверьте:
>* сколько брокеров активно;
>* какой брокер назначен контроллером (Controller ID будет выделен).
![Kafka UI](./assets/kafka-ui.png)

Запускаем скрипт и добавляем `topic`
```bash
cd scripts
./create-topic.sh
```
